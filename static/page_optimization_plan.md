# 前端页面优化list
## changeLog  详见(gitbucket上面阅读体验不够友好，换个地方) http://note.youdao.com/share/?id=7027b3f6d63f13885d2f2ff42a3df29c##/

## 其他优化点
- 图片需要压缩一下，加快页面加载速度
- 几个主要页面的js文件太长了，读懂后，进行一下拆分

## 前端开发环境搭建(使用了wepack less vue进行开发）
- npm install 安装环境
- npm run dev 启动开发环境
- npm run dist 打包文件到 static/dist

## 第二次讨论问题总结
- 首页的直播采用steam API进行直播
    - 主要是小地图英雄随着事件变化
    - action log 输出
- 搜索框 可以简单来一个 仿照 http://designspiration.net/search/saves/?q=women
- 首页的内容可以 不固定大小 自动撑开

## 51放假开发安排
- 最重要的一点
    - 目前是基于老接口的开发，使用新接口一定会返工
    - 是不是现在自己去完善 mock 数据，不免不必要的返工

- 详情页模板已经给了 可以开始详情页的开发
- 搜索结果页面可以先搞个出来

- 将地图这个部分的功能 ready
    - [x] 目前提供了hero的移动
    - [ ] 后续可以模仿其他，加上其他东西

- 考虑整体调整一下目录结构 目前的目录结果太ugly了
    - 参考一下ampfe的静态文件划分
    - 静态资源可以使用 steam cdn（先调整好目录结构 再去将资源 -> cdn）

- 经济经验差 这部分需要 数据 目前的直播数据里面有的吧
    - 目前的经济和经验数据都是分开的，暂时不去完成这个功能

### 目前还存在的问题
- live 的比赛结果 比分和经济差没有实时更新
- 搜索结果页面 ugly



### 优化上的建议
- 之前写 vue 的方式 过于入门，很多细节上还待优化
- 打包后发现文件300k 大了，需要进行按需引入
> https://imys.net/20161217/webpack-use-lodash.html

- vuejs 的组件可以 局部注册
- 不少属性和方法可以挂在 component 下面，不要全部挂在 vue实例上

### 目前的几点小意见
1. 赛程需要加入联赛图标； 
2. 近期比赛 联赛图标太大   战队图标太小（这可能是我设计图的问题） 
3. 经济差能弄出来么？战斗记录优先度比经济差低。

---
## 05-06~05-07的计划安排
- 首页的近期比赛可以 需要做 无限下拉  page-size page-idx
- 详情页模板已经给了 可以开始详情页的开发
-  需要专门搞一个模块处理 图片名称 和 图片地址的映射
    - 自己在家开发时候发现 cdn 的图片载入速度太慢（这个就先放着）
    - 发现目前英雄小头像的功能 cdn 没处找(steam api 没有一个系统的页面 我都在瞎找)
- 英雄的个人页面也已经出来设计了  可以先搞一下样式
---

## 05-13~05-14 todo list
### home_new
- 总体完善功能
    - team name 可以列出来与hero icon 进行区分
    - 队伍横着排呢？这个我也觉得联赛logo太大 战队logo太小
    - 经济经验差 需要好好想想实现方式
        - list 慢慢往里面push数据 所以一进来的时候只是点
    - [x] activity 这部分需要加个链接优化一下咯
    - [x] 胜率那里 高的一方绿色 低的一方红色
    - [x] 上下对齐问题 虽然是对齐  但是由于 padding 问题 显示起来不对齐
    - [x] recent game 的时间可以加上
    - [ ]  经济经验差 这部分应该如何处理好
        - 刚开始载入时候，数据不够多
        - 每次轮询push一下数据
    - [x] 直播和近期比赛的颜色统一
    - [ ]  为什么在 Safari下面 svg中的图片无法载入？？ 
- 处理错误问题
    - [ ] 数据错误情况下 准备默认图片 友好一点
    - [ ] 我看ampfe  用了一个错误提示的工具感觉还不错  可以借鉴借鉴
    - [x] 有些图片 error 的时候可以用 <img src="/style/image/country/er.jpg" onerror="ifImgNotExist()"> 处理错误问题

### match_detail
- [x] 个人表现这部分 点击事件添加
- [ ] 具体字段填充
    -  接口没有ready 假数据暂时先写着
- [x] 拆分成具体的组件


## 5月16日晚上沟通细节记录
- [x] 经济差那部分也可以用柱状图 怎么方便怎么来
- [x] 小地图要突出的重点是英雄和 tower 的血量
    - tower的状态 我待会儿再想想办法 目前能获取 tower  状态吗？
- [x] action log 换成经济排行
- [x] 英雄等级挂在图片一角
- [x] title文字 margin-bottom 加大
- 首页的新设计图页也出来了 可以找着 先改改
- [x] 目前用的这个地图的黑边太明显了，换个地图的图片
- [x] 头部的英雄比分 布局最好贴到顶部  不然ugly
-  偶尔会出现 live数据没有 ready 的情况直接 直接 recent顶上去
    -  这个感觉改动偏麻烦 优先级先不高吧

### match_detail
- mock up 数据先补全吧
- 选择英雄这方面 把英雄信息完善和样式完善

### match_detail_hero
- mock up 数据先补全
- [x] 基础样式完成 各种数据详情全部先列出来吧

### bug 处理
- [x] bug问题safari 下面显示有问题
- [x] 图片加载异常的情况下 使用 onerror  进行处理
- [ ] 处理好live 没有数据的情况
- [ ] leagues图片资源可以此处页面爬取 https://www.dotabuff.com/esports/leagues

- 见投资人之前需要做好的准备
    - [x] live 部分准备默认数据
    - [x] 首页代码ready
    - 处理好意外情况，没live数据时 live做默认展示



### 6月3 4号 todolist
- [ ] 直播页面经常出现三个空的比赛
    - [x] 组件的定位方式需要换一下
    - [x] 没有解决区分 live几条数据进行live展现
    - [ ] 没有直播数据的时候可以现实一下 直播list
- 图标问题
    - [x] 使用了占位图 但是占位图仍旧不够友好
- 定位计算方式
    - 感觉很多情况下定位的位置太多与诡异 确实要排查一下
    - 
- 能否在技术上 提出对这个产品比较好的优化 迭代意见


### vue使用的总结
- 以后推荐使用 vue cli 自己初始化整个项目
- 功能模板划分
    - 按照功能模块进行划分 select,pagenation...
    - 按照页面布局进行划分 header footer sidebar...
- 组件的注册    
    - 全局注册
        - 全局注册的情况下 大量的变量需要通过 props 传递 比较难受
    - 局部注册（推荐）
        - 父=>子组件传递用 props
        - 子=>父组件传递 (还有 dispath,brardcast)
            - 子this.$emit('say')
            - 父 v-on:listen()
        - 属于自身 component 的 data 直接使用

### UE沟通
    -  我需要近期整理一份需求列表
    -  这份表格梳理一下目前这个产品需要搞成什么形态
    -  功能列表
        -  首页
            - live直播(英雄的)
        -  详情页
    -  交互细节
    -  整体风格等
